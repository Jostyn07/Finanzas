<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizador Financiero Personal</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="nav-title">üí∞ Organizador Financiero</h1>
                <ul class="nav-menu">
                    <li><a href="#inicio" class="nav-link active">Inicio</a></li>
                    <li><a href="#presupuesto" class="nav-link">Presupuesto</a></li>
                    <li><a href="#deudas" class="nav-link">Deudas</a></li>
                    <li><a href="#recursos" class="nav-link">Recursos</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <!-- Notificaci√≥n de Persistencia de Datos -->
        <div id="data-persistence-notice" style="background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 1rem; text-align: center; margin: 0; display: none;">
            <div style="max-width: 1200px; margin: 0 auto;">
                <span style="font-size: 1.2rem;">üíæ</span>
                <strong>¬°Datos Seguros!</strong> Tu informaci√≥n se guarda autom√°ticamente y se mantiene entre sesiones.
                <button id="dismiss-notice" style="background: none; border: 1px solid white; color: white; padding: 0.25rem 0.75rem; border-radius: 1rem; margin-left: 1rem; cursor: pointer; font-size: 0.9rem;">‚úï</button>
            </div>
        </div>

        <!-- Secci√≥n Inicio y Diagn√≥stico -->
        <section id="inicio" class="section active">
            <div class="container">
                <h2>Diagn√≥stico Financiero</h2>
                <p class="section-description">Comencemos analizando tu situaci√≥n financiera actual para crear un plan personalizado.</p>
                
                <!-- Indicador de Estado de Datos -->
                <div id="data-status" class="card" style="background: #f0f9ff; border-left: 4px solid #2563eb; margin-bottom: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span style="font-size: 1.5rem;">üíæ</span>
                        <div>
                            <h4 style="margin: 0; color: #2563eb;">Estado de tus Datos</h4>
                            <p id="data-status-text" style="margin: 0.5rem 0 0 0; color: #6b7280;">Cargando estado...</p>
                        </div>
                    </div>
                </div>
                
                <!-- Paso 1: Formulario de Ingresos y Gastos -->
                <div class="card">
                    <h3>Paso 1: Ingresos y Gastos Mensuales</h3>
                    <form id="financial-form">
                        <div class="form-group">
                            <label for="income">Ingresos Netos Mensuales ($)</label>
                            <input type="number" id="income" name="income" step="0.01" required>
                        </div>

                        <div class="form-section">
                            <h4>Gastos Fijos</h4>
                            <div id="fixed-expenses">
                                <div class="expense-item">
                                    <input type="text" class="expense-category" list="fixed-categories" placeholder="Categor√≠a">
                                    <input type="number" class="expense-amount" step="0.01" placeholder="Monto ($)">
                                    <button type="button" class="remove-expense">√ó</button>
                                </div>
                            </div>
                            <button type="button" id="add-fixed-expense" class="add-btn">+ Agregar Gasto Fijo</button>
                        </div>

                        <div class="form-section">
                            <h4>Gastos Variables</h4>
                            <div id="variable-expenses">
                                <div class="expense-item">
                                    <input type="text" class="expense-category" list="variable-categories" placeholder="Categor√≠a">
                                    <input type="number" class="expense-amount" step="0.01" placeholder="Monto ($)">
                                    <button type="button" class="remove-expense">√ó</button>
                                </div>
                            </div>
                            <button type="button" id="add-variable-expense" class="add-btn">+ Agregar Gasto Variable</button>
                        </div>

                        <button type="submit" class="primary-btn">Analizar Finanzas</button>
                    </form>

                    <!-- Listas de autocompletado -->
                    <datalist id="fixed-categories">
                        <option value="Alquiler/Hipoteca">
                        <option value="Servicios p√∫blicos">
                        <option value="Seguros">
                        <option value="Pr√©stamos">
                        <option value="Suscripciones">
                        <option value="Internet/Tel√©fono">
                    </datalist>

                    <datalist id="variable-categories">
                        <option value="Alimentaci√≥n">
                        <option value="Transporte">
                        <option value="Entretenimiento">
                        <option value="Ropa">
                        <option value="Salud">
                        <option value="Educaci√≥n">
                        <option value="Gastos varios">
                    </datalist>
                </div>

                <!-- Paso 2: An√°lisis y Resumen -->
                <div id="analysis-section" class="card" style="display: none;">
                    <h3>Paso 2: An√°lisis de tu Situaci√≥n Financiera</h3>
                    <div class="analysis-grid">
                        <div class="chart-container">
                            <canvas id="expense-chart"></canvas>
                        </div>
                        <div class="analysis-summary">
                            <h4>Resumen Financiero</h4>
                            <div class="summary-item">
                                <span class="label">Ingresos Mensuales:</span>
                                <span id="summary-income" class="value">$0</span>
                            </div>
                            <div class="summary-item">
                                <span class="label">Gastos Totales:</span>
                                <span id="summary-expenses" class="value">$0</span>
                            </div>
                            <div class="summary-item">
                                <span class="label">Excedente/D√©ficit:</span>
                                <span id="summary-balance" class="value">$0</span>
                            </div>
                            
                            <h4>Distribuci√≥n vs Regla 50/30/20</h4>
                            <div class="rule-comparison">
                                <div class="rule-item">
                                    <span class="rule-label">Gastos Fijos (Recomendado: 50%)</span>
                                    <div class="progress-bar">
                                        <div id="fixed-progress" class="progress-fill"></div>
                                    </div>
                                    <span id="fixed-percentage" class="percentage">0%</span>
                                </div>
                                <div class="rule-item">
                                    <span class="rule-label">Gastos Variables (Recomendado: 30%)</span>
                                    <div class="progress-bar">
                                        <div id="variable-progress" class="progress-fill"></div>
                                    </div>
                                    <span id="variable-percentage" class="percentage">0%</span>
                                </div>
                                <div class="rule-item">
                                    <span class="rule-label">Ahorro (Recomendado: 20%)</span>
                                    <div class="progress-bar">
                                        <div id="savings-progress" class="progress-fill"></div>
                                    </div>
                                    <span id="savings-percentage" class="percentage">0%</span>
                                </div>
                            </div>
                            
                            <div id="recommendations" class="recommendations">
                                <h4>Recomendaciones</h4>
                                <ul id="recommendation-list"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n Presupuesto y Metas -->
        <section id="presupuesto" class="section">
            <div class="container">
                <h2>Presupuesto y Metas Financieras</h2>
                
                <!-- Paso 3: Creaci√≥n de Presupuesto -->
                <div class="card">
                    <h3>Paso 3: Tu Presupuesto Personalizado</h3>
                    <div id="budget-creator">
                        <p>Basado en tu an√°lisis, aqu√≠ tienes tu presupuesto recomendado:</p>
                        <div class="budget-controls">
                            <div class="budget-slider">
                                <label>Gastos Fijos: <span id="fixed-budget-percent">50</span>%</label>
                                <input type="range" id="fixed-slider" min="30" max="70" value="50">
                                <span id="fixed-budget-amount">$0</span>
                            </div>
                            <div class="budget-slider">
                                <label>Gastos Variables: <span id="variable-budget-percent">30</span>%</label>
                                <input type="range" id="variable-slider" min="10" max="50" value="30">
                                <span id="variable-budget-amount">$0</span>
                            </div>
                            <div class="budget-slider">
                                <label>Ahorro: <span id="savings-budget-percent">20</span>%</label>
                                <input type="range" id="savings-slider" min="10" max="40" value="20">
                                <span id="savings-budget-amount">$0</span>
                            </div>
                        </div>
                        
                        <div class="budget-tracking">
                            <h4>Seguimiento de Gastos del Mes</h4>
                            <div class="tracking-category">
                                <span>Gastos Fijos</span>
                                <div class="progress-bar">
                                    <div id="fixed-spent-progress" class="progress-fill"></div>
                                </div>
                                <span id="fixed-spent-text">$0 / $0</span>
                            </div>
                            <div class="tracking-category">
                                <span>Gastos Variables</span>
                                <div class="progress-bar">
                                    <div id="variable-spent-progress" class="progress-fill"></div>
                                </div>
                                <span id="variable-spent-text">$0 / $0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paso 4: Fondo de Emergencia -->
                <div class="card">
                    <h3>Paso 4: Fondo de Emergencia</h3>
                    <div class="emergency-fund">
                        <div class="fund-calculator">
                            <div class="form-group">
                                <label>Gastos fijos mensuales: $<span id="monthly-fixed-display">0</span></label>
                            </div>
                            <div class="form-group">
                                <label for="emergency-months">Meses de cobertura:</label>
                                <select id="emergency-months">
                                    <option value="3">3 meses (M√≠nimo recomendado)</option>
                                    <option value="6" selected>6 meses (Recomendado)</option>
                                    <option value="12">12 meses (Conservador)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="current-emergency">Cantidad actual en fondo de emergencia:</label>
                                <input type="number" id="current-emergency" step="0.01" placeholder="$0">
                            </div>
                        </div>
                        
                        <div class="fund-progress">
                            <div class="fund-goal">
                                <span>Meta: $<span id="emergency-goal">0</span></span>
                            </div>
                            <div class="progress-bar emergency">
                                <div id="emergency-progress" class="progress-fill"></div>
                            </div>
                            <div class="fund-status">
                                <span>Progreso: $<span id="emergency-current">0</span> / $<span id="emergency-target">0</span></span>
                                <span id="emergency-percentage-display">0%</span>
                            </div>
                            <div class="fund-recommendation">
                                <p id="emergency-advice">Necesitas ahorrar $<span id="emergency-needed">0</span> m√°s para alcanzar tu meta.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paso 5: Metas Financieras -->
                <div class="card">
                    <h3>Paso 5: Metas Financieras</h3>
                    <div class="goals-section">
                        <form id="goal-form">
                            <div class="form-group">
                                <label for="goal-name">Nombre de la meta:</label>
                                <input type="text" id="goal-name" placeholder="Ej: Vacaciones, Auto nuevo, Casa">
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-amount">Monto objetivo ($):</label>
                                <input type="number" id="goal-amount" step="0.01">
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-deadline">Fecha l√≠mite:</label>
                                <input type="date" id="goal-deadline">
                            </div>
                            
                            <div class="form-group">
                                <label for="goal-type">Tipo de meta:</label>
                                <select id="goal-type">
                                    <option value="short">Corto plazo (menos de 1 a√±o)</option>
                                    <option value="medium">Mediano plazo (1-5 a√±os)</option>
                                    <option value="long">Largo plazo (m√°s de 5 a√±os)</option>
                                </select>
                            </div>
                            
                            <button type="submit" class="primary-btn">Agregar Meta</button>
                        </form>
                        
                        <div id="goals-list" class="goals-container">
                            <h4>Tus Metas Financieras</h4>
                            <div id="goals-display">
                                <p class="empty-state">No tienes metas financieras a√∫n. ¬°Agrega tu primera meta arriba!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n Reducci√≥n de Deudas -->
        <section id="deudas" class="section">
            <div class="container">
                <h2>Gesti√≥n de Deudas y Herramientas</h2>
                
                <!-- Paso 6: Gesti√≥n de Deudas -->
                <div class="card">
                    <h3>Paso 6: Gesti√≥n de Deudas</h3>
                    <div class="debt-management">
                        <form id="debt-form">
                            <h4>Agregar Deuda</h4>
                            <div class="debt-form-grid">
                                <div class="form-group">
                                    <label for="debt-name">Nombre de la deuda:</label>
                                    <input type="text" id="debt-name" placeholder="Ej: Tarjeta de cr√©dito, Pr√©stamo auto">
                                </div>
                                
                                <div class="form-group">
                                    <label for="debt-balance">Saldo actual ($):</label>
                                    <input type="number" id="debt-balance" step="0.01">
                                </div>
                                
                                <div class="form-group">
                                    <label for="debt-rate">Tasa de inter√©s anual (%):</label>
                                    <input type="number" id="debt-rate" step="0.01">
                                </div>
                                
                                <div class="form-group">
                                    <label for="debt-minimum">Pago m√≠nimo mensual ($):</label>
                                    <input type="number" id="debt-minimum" step="0.01">
                                </div>
                            </div>
                            <button type="submit" class="primary-btn">Agregar Deuda</button>
                        </form>
                        
                        <div id="debt-strategy" style="display: none;">
                            <h4>Estrategias de Pago</h4>
                            <div class="strategy-selector">
                                <button id="snowball-btn" class="strategy-btn active">Bola de Nieve</button>
                                <button id="avalanche-btn" class="strategy-btn">Avalancha</button>
                            </div>
                            
                            <div class="strategy-explanation">
                                <div id="snowball-explanation" class="strategy-info">
                                    <h5>üèîÔ∏è M√©todo Bola de Nieve</h5>
                                    <p>Paga primero las deudas m√°s peque√±as. Proporciona motivaci√≥n psicol√≥gica al eliminar deudas r√°pidamente.</p>
                                </div>
                                <div id="avalanche-explanation" class="strategy-info" style="display: none;">
                                    <h5>üèîÔ∏è M√©todo Avalancha</h5>
                                    <p>Paga primero las deudas con mayor tasa de inter√©s. Matem√°ticamente m√°s eficiente, ahorras m√°s dinero en intereses.</p>
                                </div>
                            </div>
                            
                            <div id="debt-list" class="debt-container">
                                <h4>Plan de Pago Recomendado</h4>
                                <div id="debts-display"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Paso 7: Calculadora de Intereses -->
                <div class="card">
                    <h3>Paso 7: Calculadora de Intereses</h3>
                    <div class="interest-calculator">
                        <div class="calculator-inputs">
                            <div class="form-group">
                                <label for="principal">Monto inicial ($):</label>
                                <input type="number" id="principal" step="0.01" value="1000">
                            </div>
                            
                            <div class="form-group">
                                <label for="interest-rate">Tasa de inter√©s anual (%):</label>
                                <input type="number" id="interest-rate" step="0.01" value="18">
                            </div>
                            
                            <div class="form-group">
                                <label for="payment">Pago mensual ($):</label>
                                <input type="number" id="payment" step="0.01" value="50">
                            </div>
                            
                            <button id="calculate-interest" class="primary-btn">Calcular</button>
                        </div>
                        
                        <div id="interest-results" class="calculator-results">
                            <div class="result-summary">
                                <div class="result-item">
                                    <span class="label">Tiempo para pagar:</span>
                                    <span id="payoff-time" class="value">--</span>
                                </div>
                                <div class="result-item">
                                    <span class="label">Total de intereses:</span>
                                    <span id="total-interest" class="value">$--</span>
                                </div>
                                <div class="result-item">
                                    <span class="label">Total pagado:</span>
                                    <span id="total-paid" class="value">$--</span>
                                </div>
                            </div>
                            
                            <div class="chart-container">
                                <canvas id="payment-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Secci√≥n Recursos Educativos -->
        <section id="recursos" class="section">
            <div class="container">
                <h2>Recursos Educativos</h2>
                
                <div class="resources-grid">
                    <article class="resource-card">
                        <h3>üè¶ C√≥mo funcionan las inversiones</h3>
                        <p>Aprende los conceptos b√°sicos de inversi√≥n, tipos de instrumentos financieros y c√≥mo empezar a invertir.</p>
                        <div class="resource-content">
                            <h4>Tipos de Inversiones:</h4>
                            <ul>
                                <li><strong>Cuentas de ahorro:</strong> Baja rentabilidad pero alta seguridad</li>
                                <li><strong>Certificados de dep√≥sito:</strong> Rentabilidad fija a plazo determinado</li>
                                <li><strong>Acciones:</strong> Participaci√≥n en empresas, mayor riesgo y potencial</li>
                                <li><strong>Bonos:</strong> Pr√©stamos a gobiernos o empresas</li>
                                <li><strong>Fondos de inversi√≥n:</strong> Diversificaci√≥n autom√°tica</li>
                            </ul>
                            
                            <h4>Principios B√°sicos:</h4>
                            <ul>
                                <li>Diversificaci√≥n: No pongas todos los huevos en una canasta</li>
                                <li>Horizonte temporal: Inversiones a largo plazo suelen ser menos riesgosas</li>
                                <li>Tolerancia al riesgo: Invierte seg√∫n tu comodidad con las fluctuaciones</li>
                                <li>Costo-promedio: Invierte cantidades regulares para reducir volatilidad</li>
                            </ul>
                        </div>
                    </article>

                    <article class="resource-card">
                        <h3>üí∞ Diferencia entre ahorro e inversi√≥n</h3>
                        <p>Entiende cu√°ndo ahorrar y cu√°ndo invertir para maximizar tu crecimiento financiero.</p>
                        <div class="resource-content">
                            <h4>Ahorro:</h4>
                            <ul>
                                <li>Para gastos de emergencia (3-6 meses de gastos)</li>
                                <li>Metas a corto plazo (menos de 2 a√±os)</li>
                                <li>Dinero que necesitas acceso inmediato</li>
                                <li>Cuentas de ahorro, CDs de corto plazo</li>
                            </ul>
                            
                            <h4>Inversi√≥n:</h4>
                            <ul>
                                <li>Metas a largo plazo (m√°s de 5 a√±os)</li>
                                <li>Jubilaci√≥n</li>
                                <li>Hacer crecer tu patrimonio</li>
                                <li>Acciones, bonos, fondos de inversi√≥n</li>
                            </ul>
                            
                            <h4>Regla General:</h4>
                            <p>Primero asegura tu fondo de emergencia en ahorros, luego invierte el excedente para objetivos a largo plazo.</p>
                        </div>
                    </article>

                    <article class="resource-card">
                        <h3>üí≥ Consejos para negociar deudas</h3>
                        <p>Estrategias efectivas para reducir tus deudas y mejorar tus condiciones de pago.</p>
                        <div class="resource-content">
                            <h4>Antes de negociar:</h4>
                            <ul>
                                <li>Conoce tu situaci√≥n financiera completa</li>
                                <li>Revisa tu historial de pagos</li>
                                <li>Calcula cu√°nto puedes pagar realmente</li>
                                <li>Prepara documentaci√≥n de dificultades financieras</li>
                            </ul>
                            
                            <h4>Estrategias de negociaci√≥n:</h4>
                            <ul>
                                <li>Llama durante horarios de menor volumen</li>
                                <li>Pide hablar con el departamento de retenci√≥n</li>
                                <li>Prop√≥n un plan de pago espec√≠fico</li>
                                <li>Negocia reducci√≥n de intereses o principal</li>
                                <li>Obt√©n cualquier acuerdo por escrito</li>
                            </ul>
                            
                            <h4>Opciones que puedes solicitar:</h4>
                            <ul>
                                <li>Plan de pago extendido</li>
                                <li>Reducci√≥n de tasa de inter√©s</li>
                                <li>Condonaci√≥n parcial de deuda</li>
                                <li>Pago √∫nico con descuento</li>
                            </ul>
                        </div>
                    </article>

                    <article class="resource-card">
                        <h3>üìä Gu√≠as para mejorar tu puntaje crediticio</h3>
                        <p>Pasos concretos para construir y mantener un excelente historial crediticio.</p>
                        <div class="resource-content">
                            <h4>Factores que afectan tu puntaje:</h4>
                            <ul>
                                <li><strong>Historial de pagos (35%):</strong> Paga siempre a tiempo</li>
                                <li><strong>Utilizaci√≥n de cr√©dito (30%):</strong> Mant√©n saldos bajos</li>
                                <li><strong>Historial crediticio (15%):</strong> Mant√©n cuentas antiguas abiertas</li>
                                <li><strong>Tipos de cr√©dito (10%):</strong> Diversifica responsablemente</li>
                                <li><strong>Consultas recientes (10%):</strong> Evita muchas solicitudes</li>
                            </ul>
                            
                            <h4>Estrategias para mejorar:</h4>
                            <ul>
                                <li>Configura pagos autom√°ticos para nunca atrasarte</li>
                                <li>Mant√©n utilizaci√≥n por debajo del 30% (idealmente 10%)</li>
                                <li>Paga saldos antes de la fecha de corte</li>
                                <li>No cierres tarjetas antigas</li>
                                <li>Monitorea tu reporte crediticio regularmente</li>
                                <li>Disputa errores inmediatamente</li>
                            </ul>
                            
                            <h4>Mitos comunes:</h4>
                            <ul>
                                <li>‚ùå Cerrar tarjetas mejora tu puntaje</li>
                                <li>‚ùå Necesitas llevar saldo para construir cr√©dito</li>
                                <li>‚ùå Revisar tu cr√©dito lo da√±a</li>
                                <li>‚úÖ Los pagos puntuales son lo m√°s importante</li>
                            </ul>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Organizador Financiero Personal. Desarrollado para tu √©xito financiero.</p>
        </div>
    </footer>

    <script src="js/app.js"></script>
</body>
</html>